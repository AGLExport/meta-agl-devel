From f451147ffc1f89f4c0f705ac5c444e614dbff22a Mon Sep 17 00:00:00 2001
From: George Kiagiadakis <george.kiagiadakis@collabora.com>
Date: Fri, 9 Aug 2019 13:26:15 +0300
Subject: [PATCH] daemon config & remote: load module-session-manager by
 default

Upstream-Status: Pending
---
 src/daemon/pipewire.conf.in | 1 +
 src/pipewire/remote.c       | 1 +
 2 files changed, 2 insertions(+)

diff --git a/src/daemon/pipewire.conf.in b/src/daemon/pipewire.conf.in
index 174ae97d..bf64c574 100644
--- a/src/daemon/pipewire.conf.in
+++ b/src/daemon/pipewire.conf.in
@@ -23,4 +23,5 @@ load-module libpipewire-module-client-device
 load-module libpipewire-module-access
 load-module libpipewire-module-adapter
 load-module libpipewire-module-link-factory
+load-module libpipewire-module-session-manager
 exec build/src/examples/media-session
diff --git a/src/pipewire/remote.c b/src/pipewire/remote.c
index fe62582c..e89474b0 100644
--- a/src/pipewire/remote.c
+++ b/src/pipewire/remote.c
@@ -242,6 +242,7 @@ struct pw_remote *pw_remote_new(struct pw_core *core,
 	pw_module_load(core, "libpipewire-module-rtkit", NULL, NULL);
 	pw_module_load(core, "libpipewire-module-client-node", NULL, NULL);
 	pw_module_load(core, "libpipewire-module-adapter", NULL, NULL);
+	pw_module_load(core, "libpipewire-module-session-manager", NULL, NULL);
 
         spa_list_append(&core->remote_list, &this->link);
 
-- 
2.23.0

