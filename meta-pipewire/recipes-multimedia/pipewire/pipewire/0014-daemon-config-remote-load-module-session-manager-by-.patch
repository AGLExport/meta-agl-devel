From a7379880b3cb14ce81cbb3475b1b251df60c86f8 Mon Sep 17 00:00:00 2001
From: George Kiagiadakis <george.kiagiadakis@collabora.com>
Date: Fri, 9 Aug 2019 13:26:15 +0300
Subject: [PATCH] daemon config & remote: load module-session-manager by
 default

Upstream-Status: Pending
---
 src/daemon/pipewire.conf.in | 1 +
 src/pipewire/remote.c       | 1 +
 2 files changed, 2 insertions(+)

diff --git a/src/daemon/pipewire.conf.in b/src/daemon/pipewire.conf.in
index 079ec730..19c898b9 100644
--- a/src/daemon/pipewire.conf.in
+++ b/src/daemon/pipewire.conf.in
@@ -21,4 +21,5 @@ load-module libpipewire-module-client-device
 load-module libpipewire-module-access
 load-module libpipewire-module-adapter
 load-module libpipewire-module-link-factory
+load-module libpipewire-module-session-manager
 exec build/src/examples/media-session
diff --git a/src/pipewire/remote.c b/src/pipewire/remote.c
index 2b545f79..62841e58 100644
--- a/src/pipewire/remote.c
+++ b/src/pipewire/remote.c
@@ -242,6 +242,7 @@ struct pw_remote *pw_remote_new(struct pw_core *core,
 	pw_module_load(core, "libpipewire-module-rtkit", NULL, NULL);
 	pw_module_load(core, "libpipewire-module-client-node", NULL, NULL);
 	pw_module_load(core, "libpipewire-module-adapter", NULL, NULL);
+	pw_module_load(core, "libpipewire-module-session-manager", NULL, NULL);
 
         spa_list_append(&core->remote_list, &this->link);
 
-- 
2.23.0

